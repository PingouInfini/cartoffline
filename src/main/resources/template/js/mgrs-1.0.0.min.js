/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/mgrs@1.0.0/dist/mgrs.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.mgrs=t.mgrs||{})}(this,(function(t){"use strict";var e="AJSAJS",r="AFAFAF",a=65,n=73,o=79,i=86,s=90,h={forward:c,inverse:f,toPoint:u};function c(t,h){return h=h||5,function(t,h){var c="00000"+t.easting,f="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(A=t.easting,z=t.northing,w=t.zoneNumber,C=v(w),P=Math.floor(A/1e5),S=Math.floor(z/1e5)%20,u=P,l=S,M=C,b=M-1,g=e.charCodeAt(b),d=r.charCodeAt(b),m=g+u-1,k=d+l,p=!1,m>s&&(m=m-s+a-1,p=!0),(m===n||g<n&&m>n||(m>n||g<n)&&p)&&m++,(m===o||g<o&&m>o||(m>o||g<o)&&p)&&++m===n&&m++,m>s&&(m=m-s+a-1),k>i?(k=k-i+a-1,p=!0):p=!1,(k===n||d<n&&k>n||(k>n||d<n)&&p)&&k++,(k===o||d<o&&k>o||(k>o||d<o)&&p)&&++k===n&&k++,k>i&&(k=k-i+a-1),String.fromCharCode(m)+String.fromCharCode(k))+c.substr(c.length-5,h)+f.substr(f.length-5,h);var u,l,M,b,g,d,m,k,p;var A,z,w,C,P,S}(function(t){var e,r,a,n,o,i,s,h,c=t.lat,f=t.lon,u=6378137,M=.00669438,b=.9996,v=l(c),d=l(f);h=Math.floor((f+180)/6)+1,180===f&&(h=60);c>=56&&c<64&&f>=3&&f<12&&(h=32);c>=72&&c<84&&(f>=0&&f<9?h=31:f>=9&&f<21?h=33:f>=21&&f<33?h=35:f>=33&&f<42&&(h=37));s=l(6*(h-1)-180+3),e=M/(1-M),r=u/Math.sqrt(1-M*Math.sin(v)*Math.sin(v)),a=Math.tan(v)*Math.tan(v),n=e*Math.cos(v)*Math.cos(v),o=Math.cos(v)*(d-s),i=u*((1-M/4-3*M*M/64-5*M*M*M/256)*v-(3*M/8+3*M*M/32+45*M*M*M/1024)*Math.sin(2*v)+(15*M*M/256+45*M*M*M/1024)*Math.sin(4*v)-35*M*M*M/3072*Math.sin(6*v));var m=b*r*(o+(1-a+n)*o*o*o/6+(5-18*a+a*a+72*n-58*e)*o*o*o*o*o/120)+5e5,k=b*(i+r*Math.tan(v)*(o*o/2+(5-a+9*n+4*n*n)*o*o*o*o/24+(61-58*a+a*a+600*n-330*e)*o*o*o*o*o*o/720));c<0&&(k+=1e7);return{northing:Math.round(k),easting:Math.round(m),zoneNumber:h,zoneLetter:g(c)}}({lat:t[1],lon:t[0]}),h)}function f(t){var e=b(d(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function u(t){var e=b(d(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function l(t){return t*(Math.PI/180)}function M(t){return t/Math.PI*180}function b(t){var e=t.northing,r=t.easting,a=t.zoneLetter,n=t.zoneNumber;if(n<0||n>60)return null;var o,i,s,h,c,f,u,l,g,v=.9996,d=6378137,m=.00669438,k=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),p=r-5e5,A=e;a<"N"&&(A-=1e7),u=6*(n-1)-180+3,o=.006739496752268451,g=(l=A/v/6367449.145945056)+(3*k/2-27*k*k*k/32)*Math.sin(2*l)+(21*k*k/16-55*k*k*k*k/32)*Math.sin(4*l)+151*k*k*k/96*Math.sin(6*l),i=d/Math.sqrt(1-m*Math.sin(g)*Math.sin(g)),s=Math.tan(g)*Math.tan(g),h=o*Math.cos(g)*Math.cos(g),c=.99330562*d/Math.pow(1-m*Math.sin(g)*Math.sin(g),1.5),f=p/(i*v);var z=g-i*Math.tan(g)/c*(f*f/2-(5+3*s+10*h-4*h*h-9*o)*f*f*f*f/24+(61+90*s+298*h+45*s*s-1.6983531815716497-3*h*h)*f*f*f*f*f*f/720);z=M(z);var w,C=(f-(1+2*s+h)*f*f*f/6+(5-2*h+28*s-3*h*h+8*o+24*s*s)*f*f*f*f*f/120)/Math.cos(g);if(C=u+M(C),t.accuracy){var P=b({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});w={top:P.lat,right:P.lon,bottom:z,left:C}}else w={lat:z,lon:C};return w}function g(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function v(t){var e=t%6;return 0===e&&(e=6),e}function d(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var h,c=t.length,f=null,u="",l=0;!/[A-Z]/.test(h=t.charAt(l));){if(l>=2)throw"MGRSPoint bad conversion from: "+t;u+=h,l++}var M=parseInt(u,10);if(0===l||l+3>c)throw"MGRSPoint bad conversion from: "+t;var b=t.charAt(l++);if(b<="A"||"B"===b||"Y"===b||b>="Z"||"I"===b||"O"===b)throw"MGRSPoint zone letter "+b+" not handled: "+t;f=t.substring(l,l+=2);for(var g=v(M),d=function(t,r){var i=e.charCodeAt(r-1),h=1e5,c=!1;for(;i!==t.charCodeAt(0);){if(++i===n&&i++,i===o&&i++,i>s){if(c)throw"Bad character: "+t;i=a,c=!0}h+=1e5}return h}(f.charAt(0),g),k=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var s=r.charCodeAt(e-1),h=0,c=!1;for(;s!==t.charCodeAt(0);){if(++s===n&&s++,s===o&&s++,s>i){if(c)throw"Bad character: "+t;s=a,c=!0}h+=1e5}return h}(f.charAt(1),g);k<m(b);)k+=2e6;var p=c-l;if(p%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var A,z,w,C=p/2,P=0,S=0;return C>0&&(A=1e5/Math.pow(10,C),z=t.substring(l,l+C),P=parseFloat(z)*A,w=t.substring(l+C),S=parseFloat(w)*A),{easting:P+d,northing:S+k,zoneLetter:b,zoneNumber:M,accuracy:A}}function m(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}t.default=h,t.forward=c,t.inverse=f,t.toPoint=u,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=/sm/22e748ce9e7f363669f7392e02ec1dfdbff7bc8de5eeaa71aa8162f51c06e950.map